"use strict";(self.webpackChunktask_management=self.webpackChunktask_management||[]).push([[302],{7302:(L,p,n)=>{n.r(p),n.d(p,{AuthModule:()=>Q});var m=n(8583),s=n(665),l=n(4827),u=n(472),e=n(3018),Z=n(3340);function v(t,o){1&t&&(e.TgZ(0,"div",26),e._uU(1," Enter a valid email address "),e.qZA())}function b(t,o){1&t&&(e.TgZ(0,"div",26),e._uU(1," Enter your password "),e.qZA())}function _(t,o){1&t&&(e.TgZ(0,"div",27),e.TgZ(1,"strong"),e._uU(2,"Failed to sign in!"),e.qZA(),e._uU(3," Please check your credentials and try again. "),e.qZA())}const c=function(t){return{"is-invalid":t}};let f=(()=>{class t{constructor(r,i,a){this.loginService=r,this.fb=i,this.router=a,this.title=u.Z.name,this.submitted=!1,this.authenticationError=!1,this.loginForm=this.fb.group({email:[null,[s.kI.required,s.kI.email]],password:[null,[s.kI.required]],rememberMe:[!1]})}ngOnInit(){}get f(){return this.loginForm.controls}login(){this.submitted=!0,!this.loginForm.invalid&&this.loginService.login({login:this.loginForm.get("email").value,password:this.loginForm.get("password").value,rememberMe:this.loginForm.get("rememberMe").value}).subscribe(()=>{this.authenticationError=!1,this.router.navigate(["dashboard/overview"])},()=>{this.authenticationError=!0,this.onReset()})}onReset(){this.submitted=!1,this.loginForm.reset()}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(Z.r),e.Y36(s.qu),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:35,vars:10,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-5"],[1,"card","border-0","shadow","my-5"],[1,"card-body","p-0"],[1,"p-5"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email","placeholder","Enter a valid email address",1,"form-control","form-control-lg",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"mb-3"],["for","password",1,"form-label"],["formControlName","password","type","password","id","password","placeholder","Enter password",1,"form-control","form-control-lg",3,"ngClass"],[1,"d-flex","justify-content-between","align-items-center"],[1,"form-check","mb-0"],["formControlName","rememberMe","type","checkbox","value","","id","rememberme",1,"form-check-input","me-2"],["for","rememberme",1,"form-check-label"],["routerLink","reset",1,"text-body"],[1,"text-center","text-lg-start","mt-4","pt-2"],["type","submit",1,"btn","btn-primary","btn-lg","mb-4",2,"padding-left","2.5rem","padding-right","2.5rem"],[1,"small","mt-2","mb-2"],["routerLink","register",1,"link-danger"],["class","alert alert-danger",4,"ngIf"],[1,"d-flex","justify-content-center","py-4","px-4","bg-primary"],[1,"text-white","mb-3","mb-md-0","text-center"],[1,"text-danger"],[1,"alert","alert-danger"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"form",6),e.NdJ("ngSubmit",function(){return i.login()}),e.TgZ(7,"div",7),e.TgZ(8,"label",8),e._uU(9,"Email address"),e.qZA(),e._UZ(10,"input",9),e.YNc(11,v,2,0,"div",10),e.qZA(),e.TgZ(12,"div",11),e.TgZ(13,"label",12),e._uU(14,"Password"),e.qZA(),e._UZ(15,"input",13),e.YNc(16,b,2,0,"div",10),e.qZA(),e.TgZ(17,"div",14),e.TgZ(18,"div",15),e._UZ(19,"input",16),e.TgZ(20,"label",17),e._uU(21," Remember me "),e.qZA(),e.qZA(),e.TgZ(22,"a",18),e._uU(23,"Forgot password?"),e.qZA(),e.qZA(),e.TgZ(24,"div",19),e.TgZ(25,"button",20),e._uU(26," Login "),e.qZA(),e.TgZ(27,"p",21),e._uU(28," Don't have an account? "),e.TgZ(29,"a",22),e._uU(30,"Register"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(31,_,4,0,"div",23),e.TgZ(32,"div",24),e.TgZ(33,"div",25),e._uU(34," Copyright \xa9 2020. All rights reserved. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r&&(e.xp6(6),e.Q6J("formGroup",i.loginForm),e.xp6(4),e.Q6J("ngClass",e.VKq(6,c,i.submitted&&i.f.email.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.email.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(8,c,i.submitted&&i.f.password.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.password.errors),e.xp6(15),e.Q6J("ngIf",i.authenticationError))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,m.mk,m.O5,s.Wl,l.yS],styles:[""]}),t})();var h=n(1841);let T=(()=>{class t{constructor(r){this.http=r,this.resourceUrl="http://localhost:8080/api/auth/register"}register(r){return this.http.post(this.resourceUrl,r,{observe:"response"})}}return t.\u0275fac=function(r){return new(r||t)(e.LFG(h.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function q(t,o){1&t&&(e.TgZ(0,"div",27),e._uU(1," Enter a valid firstName address "),e.qZA())}function A(t,o){1&t&&(e.TgZ(0,"div",27),e._uU(1," Enter a valid lastName address "),e.qZA())}function y(t,o){1&t&&(e.TgZ(0,"div",27),e._uU(1," Enter a valid username address "),e.qZA())}function C(t,o){1&t&&(e.TgZ(0,"div",27),e._uU(1," Enter a valid email address "),e.qZA())}function w(t,o){1&t&&(e.TgZ(0,"div",27),e._uU(1," Enter your password "),e.qZA())}function F(t,o){1&t&&(e.TgZ(0,"div",28),e.TgZ(1,"strong"),e._uU(2,"Failed to sign in!"),e.qZA(),e._uU(3," Please check your credentials and try again. "),e.qZA())}const d=function(t){return{"is-invalid":t}};let U=(()=>{class t{constructor(r,i,a){this.registerService=r,this.fb=i,this.router=a,this.title=u.Z.name,this.submitted=!1,this.authenticationError=!1,this.registerForm=this.fb.group({firstName:[null,[s.kI.required]],lastName:[null,[s.kI.required]],username:[null,[s.kI.required]],email:[null,[s.kI.required,s.kI.email]],password:[null,[s.kI.required]]})}ngOnInit(){}get f(){return this.registerForm.controls}register(){this.submitted=!0,!this.registerForm.invalid&&this.registerService.register({firstName:this.registerForm.get("firstName").value,lastName:this.registerForm.get("lastName").value,username:this.registerForm.get("username").value,email:this.registerForm.get("email").value,password:this.registerForm.get("password").value}).subscribe(()=>{alert("successfully register, you account will be activate by the admin, one it will be activated you can access"),this.onReset()},()=>{alert("something went wrong please try later"),this.authenticationError=!0,this.onReset()})}onReset(){this.submitted=!1,this.registerForm.reset()}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(T),e.Y36(s.qu),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],decls:43,vars:22,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-5"],[1,"card","border-0","shadow","my-5"],[1,"card-body","p-0"],[1,"p-5"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["for","firstName",1,"form-label"],["formControlName","firstName","type","text","id","firstName","placeholder","Enter a valid firstName",1,"form-control","form-control-lg",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","lastName",1,"form-label"],["formControlName","lastName","type","text","id","lastName","placeholder","Enter a valid lastName",1,"form-control","form-control-lg",3,"ngClass"],["for","username",1,"form-label"],["formControlName","username","type","text","id","username","placeholder","Enter a valid username",1,"form-control","form-control-lg",3,"ngClass"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email","placeholder","Enter a valid email address",1,"form-control","form-control-lg",3,"ngClass"],[1,"mb-3"],["for","password",1,"form-label"],["formControlName","password","type","password","id","password","placeholder","Enter password",1,"form-control","form-control-lg",3,"ngClass"],[1,"text-center","text-lg-start","mt-4","pt-2"],["type","submit",1,"btn","btn-primary","btn-lg","mb-4",2,"padding-left","2.5rem","padding-right","2.5rem"],[1,"small","mt-2","mb-2"],["routerLink","login",1,"link-danger"],["class","alert alert-danger",4,"ngIf"],[1,"d-flex","justify-content-center","py-4","px-4","bg-primary"],[1,"text-white","mb-3","mb-md-0","text-center"],[1,"text-danger"],[1,"alert","alert-danger"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"form",6),e.NdJ("ngSubmit",function(){return i.register()}),e.TgZ(7,"div",7),e.TgZ(8,"label",8),e._uU(9,"First Name address"),e.qZA(),e._UZ(10,"input",9),e.YNc(11,q,2,0,"div",10),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"label",11),e._uU(14,"Last Name address"),e.qZA(),e._UZ(15,"input",12),e.YNc(16,A,2,0,"div",10),e.qZA(),e.TgZ(17,"div",7),e.TgZ(18,"label",13),e._uU(19,"Username"),e.qZA(),e._UZ(20,"input",14),e.YNc(21,y,2,0,"div",10),e.qZA(),e.TgZ(22,"div",7),e.TgZ(23,"label",15),e._uU(24,"Email address"),e.qZA(),e._UZ(25,"input",16),e.YNc(26,C,2,0,"div",10),e.qZA(),e.TgZ(27,"div",17),e.TgZ(28,"label",18),e._uU(29,"Password"),e.qZA(),e._UZ(30,"input",19),e.YNc(31,w,2,0,"div",10),e.qZA(),e.TgZ(32,"div",20),e.TgZ(33,"button",21),e._uU(34," Register "),e.qZA(),e.TgZ(35,"p",22),e._uU(36," You already have an account? "),e.TgZ(37,"a",23),e._uU(38,"Login"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(39,F,4,0,"div",24),e.TgZ(40,"div",25),e.TgZ(41,"div",26),e._uU(42," Copyright \xa9 2020. All rights reserved. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r&&(e.xp6(6),e.Q6J("formGroup",i.registerForm),e.xp6(4),e.Q6J("ngClass",e.VKq(12,d,i.submitted&&i.f.firstName.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.firstName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(14,d,i.submitted&&i.f.lastName.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.lastName.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(16,d,i.submitted&&i.f.username.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.username.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(18,d,i.submitted&&i.f.email.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.email.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(20,d,i.submitted&&i.f.password.errors)),e.xp6(1),e.Q6J("ngIf",i.submitted&&i.f.password.errors),e.xp6(8),e.Q6J("ngIf",i.authenticationError))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,m.mk,m.O5,l.yS],styles:[""]}),t})(),I=(()=>{class t{constructor(r){this.http=r,this.resourceUrlResetInit="http://localhost:8080/api/auth/reset-password/init",this.resourceUrlResetFinish="http://localhost:8080/api/auth/reset-password/finish"}resetInit(r){return this.http.post(this.resourceUrlResetInit,{email:r},{observe:"response"})}resetFinish(r){return this.http.post(this.resourceUrlResetFinish,r,{observe:"response"})}}return t.\u0275fac=function(r){return new(r||t)(e.LFG(h.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function N(t,o){1&t&&(e.TgZ(0,"div",19),e._uU(1," Enter a valid email address "),e.qZA())}const g=function(t){return{"is-invalid":t}};function x(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"form",10),e.NdJ("ngSubmit",function(){return e.CHM(r),e.oxw().reset()}),e.TgZ(1,"div",11),e.TgZ(2,"label",12),e._uU(3,"Email address"),e.qZA(),e._UZ(4,"input",13),e.YNc(5,N,2,0,"div",14),e.qZA(),e.TgZ(6,"div",15),e.TgZ(7,"button",16),e._uU(8," Send email "),e.qZA(),e.TgZ(9,"p",17),e._uU(10," Go back to login page? "),e.TgZ(11,"a",18),e._uU(12,"Login"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const r=e.oxw();e.Q6J("formGroup",r.resetInitForm),e.xp6(4),e.Q6J("ngClass",e.VKq(3,g,r.submitted&&r.fi.email.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.fi.email.errors)}}function R(t,o){1&t&&(e.TgZ(0,"div",19),e._uU(1," Enter a valid code "),e.qZA())}function J(t,o){1&t&&(e.TgZ(0,"div",19),e._uU(1," Enter your password "),e.qZA())}function E(t,o){if(1&t){const r=e.EpF();e.TgZ(0,"form",10),e.NdJ("ngSubmit",function(){return e.CHM(r),e.oxw().reset()}),e.TgZ(1,"div",11),e.TgZ(2,"label",12),e._uU(3,"Code"),e.qZA(),e._UZ(4,"input",20),e.YNc(5,R,2,0,"div",14),e.qZA(),e.TgZ(6,"div",21),e.TgZ(7,"label",22),e._uU(8,"Password"),e.qZA(),e._UZ(9,"input",23),e.YNc(10,J,2,0,"div",14),e.qZA(),e.TgZ(11,"div",15),e.TgZ(12,"button",16),e._uU(13," Reset "),e.qZA(),e.TgZ(14,"p",17),e._uU(15," Send back code again? "),e.TgZ(16,"a",24),e._uU(17,"Reset"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const r=e.oxw();e.Q6J("formGroup",r.resetFinishForm),e.xp6(4),e.Q6J("ngClass",e.VKq(5,g,r.submitted&&r.ff.code.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.ff.code.errors),e.xp6(4),e.Q6J("ngClass",e.VKq(7,g,r.submitted&&r.ff.password.errors)),e.xp6(1),e.Q6J("ngIf",r.submitted&&r.ff.password.errors)}}function k(t,o){1&t&&(e.TgZ(0,"div",25),e._uU(1," something went wrong "),e.qZA())}const S=[{path:"",component:f},{path:"login",component:f},{path:"register",component:U},{path:"reset",component:(()=>{class t{constructor(r,i,a){this.resetService=r,this.fb=i,this.router=a,this.title=u.Z.name,this.submitted=!1,this.isInit=!0,this.authenticationError=!1,this.resetInitForm=this.fb.group({email:[null,[s.kI.required,s.kI.email]]}),this.resetFinishForm=this.fb.group({code:[null,[s.kI.required]],password:[null,[s.kI.required]]})}ngOnInit(){}get fi(){return this.resetInitForm.controls}get ff(){return this.resetFinishForm.controls}reset(){if(this.isInit){if(this.submitted=!0,this.resetInitForm.invalid)return;this.resetService.resetInit(this.resetInitForm.get("email").value).subscribe(()=>{alert("an email have been send, use that code to reinitialise you password"),this.authenticationError=!1,this.submitted=!1,this.isInit=!1},()=>{this.authenticationError=!0,this.submitted=!1,this.resetInitForm.reset()})}else{if(this.submitted=!0,this.resetFinishForm.invalid)return;this.resetService.resetFinish({key:this.resetFinishForm.get("code").value,password:this.resetFinishForm.get("password").value}).subscribe(()=>{alert("You password have been successfully updated"),this.authenticationError=!1,this.router.navigate(["login"])},()=>{this.authenticationError=!0,this.submitted=!1,this.resetFinishForm.reset()})}}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(I),e.Y36(s.qu),e.Y36(l.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-reset"]],decls:12,vars:3,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"col-5"],[1,"card","border-0","shadow","my-5"],[1,"card-body","p-0"],[1,"p-5"],[3,"formGroup","ngSubmit",4,"ngIf"],["class","alert alert-danger border-0 rounded-0",4,"ngIf"],[1,"d-flex","justify-content-center","py-4","px-4","bg-primary"],[1,"text-white","mb-3","mb-md-0","text-center"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["for","email",1,"form-label"],["formControlName","email","type","email","id","email","placeholder","Enter a valid email address",1,"form-control","form-control-lg",3,"ngClass"],["class","text-danger",4,"ngIf"],[1,"text-center","text-lg-start","mt-4","pt-2"],["type","submit",1,"btn","btn-primary","btn-lg","mb-4",2,"padding-left","2.5rem","padding-right","2.5rem"],[1,"small","mt-2","mb-2"],["routerLink","login",1,"link-danger"],[1,"text-danger"],["formControlName","code","type","text","id","code","placeholder","Enter a valid key",1,"form-control","form-control-lg",3,"ngClass"],[1,"mb-3"],["for","password",1,"form-label"],["formControlName","password","type","password","id","password","placeholder","Enter password",1,"form-control","form-control-lg",3,"ngClass"],["routerLink","reset",1,"link-danger"],[1,"alert","alert-danger","border-0","rounded-0"]],template:function(r,i){1&r&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.YNc(6,x,13,5,"form",6),e.YNc(7,E,18,9,"form",6),e.qZA(),e.YNc(8,k,2,0,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e._uU(11," Copyright \xa9 2020. All rights reserved. "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&r&&(e.xp6(6),e.Q6J("ngIf",i.isInit),e.xp6(1),e.Q6J("ngIf",!i.isInit),e.xp6(1),e.Q6J("ngIf",i.authenticationError))},directives:[m.O5,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,m.mk,l.yS],styles:[""]}),t})()}];let Y=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.Bz.forChild(S)],l.Bz]}),t})(),Q=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,s.u5,s.UX,Y]]}),t})()}}]);